<!DOCTYPE html>
<html>
<head>
	
	<title>ElectroAcoustic Archiving Projects GeoLocalisation</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
	
</head>
<body>

	<div id="mapid" style="width: 600px; height: 400px;"></div>
	<script>

		var projects = 
		[
  {
    "Name": "Seamus",
    "Nom": "EA Repertoire Database",
    "Institution": "Society for Electroacoustic Music",
    "Ville": "USA",
    "Persons": "",
    "Etat": "running",
    "Type": "digital archive",
    "internet": "https://www.seamusonline.org",
    "date \nde debut": 1984,
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "IDEAMA",
    "Nom": "The International Digital Electroacoustic Music Archive",
    "Institution": "CCRMA + ZKM",
    "Ville": "Stanford",
    "Persons": "",
    "Etat": "dead",
    "Type": "digital archive",
    "internet": "https://ccrma.stanford.edu/CCRMA/newOverview/pasthistorical.html",
    "date \nde debut": 1990,
    "date\nde fin": 1996,
    "Comments": "over 700 works"
  },
  {
    "Name": "Pdrp",
    "Nom": "Puredata repository",
    "Institution": "U of San Diego",
    "Ville": "San Diego",
    "Persons": "Miller Puckette",
    "Etat": "running",
    "Type": "digital archive",
    "internet": "http://msp.ucsd.edu/pdrp/pdrp-06/doc/",
    "date \nde debut": 2003,
    "date\nde fin": 2009,
    "Comments": "11 pieces (dont ? \"ircam\")"
  },
  {
    "Name": "Mustica",
    "Nom": "",
    "Institution": "Ircam",
    "Ville": "Paris",
    "Persons": "Bertrand Cheret",
    "Etat": "remplacé",
    "Type": "DataBase",
    "internet": "http://www.dcc.ac.uk/resources/external/mustica",
    "date \nde debut": 2004,
    "date\nde fin": 2009,
    "Comments": "71 pieces"
  },
  {
    "Name": "Caspar",
    "Nom": "Cultural, Artistic and Scientific knowledge Preservation for Access and Retrieval",
    "Institution": "Ina",
    "Ville": "Paris",
    "Persons": "Daniel Teruggi",
    "Etat": "fini",
    "Type": "projet",
    "internet": "https://www.ina-expert.com/projets-de-recherche/caspar.html,\nwww.casparpreserves.eu",
    "date \nde debut": 2006,
    "date\nde fin": 2009,
    "Comments": ""
  },
  {
    "Name": "Digitice",
    "Nom": "",
    "Institution": "International Contemporary Ensemble",
    "Ville": "New York",
    "Persons": "",
    "Etat": "actif",
    "Type": "digital archive",
    "internet": "https://digitice.org/digitice",
    "date \nde debut": 2008,
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "Sidney",
    "Nom": "",
    "Institution": "Ircam",
    "Ville": "Paris",
    "Persons": "Serge Lemouton",
    "Etat": "actif",
    "Type": "DataBase",
    "internet": "www.brahms.ircam.fr",
    "date \nde debut": 2008,
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "TaCEM",
    "Nom": "Technology and Creativity in Electroacoustic Music",
    "Institution": "",
    "Ville": "Huddersfield",
    "Persons": "Michael Clarke,\nFrederic Dufeu",
    "Etat": "",
    "Type": "projet renouvelé",
    "internet": "https://research.hud.ac.uk/institutes-centres/tacem/casestudies/",
    "date \nde debut": 2012,
    "date\nde fin": 2015,
    "Comments": "9 works (dont 4 sidney)"
  },
  {
    "Name": "SEDA",
    "Nom": "Sensual Experience of Digital Archives",
    "Institution": "ZKM",
    "Ville": "Karlsruhe",
    "Persons": "",
    "Etat": "",
    "Type": "DataBase",
    "internet": "http://dspace.mediaartbase.com",
    "date \nde debut": 2017,
    "date\nde fin": 2018,
    "Comments": ""
  },
  {
    "Name": "Notam",
    "Nom": "",
    "Institution": "",
    "Ville": "Oslo",
    "Persons": "Joran Rudi",
    "Etat": "",
    "Type": "",
    "internet": "",
    "date \nde debut": 2018,
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "PPEAM",
    "Nom": "Performing Live Electronic Music – Technical and Aesthetical Challenges in the Digital Age",
    "Institution": "ICST",
    "Ville": "Zurich",
    "Persons": "Toro-Pérez Germán <german.toro-perez@zhdk.ch>",
    "Etat": "en cours",
    "Type": "projet",
    "internet": "http://ppeam.zhdk.ch",
    "date \nde debut": 2018,
    "date\nde fin": "",
    "Comments": "CST’s open access \n«Electroacoustic Performance\n Practice Database»"
  },
  {
    "Name": "Archiverlepresent",
    "Nom": "",
    "Institution": "Paris 8",
    "Ville": "Paris",
    "Persons": "",
    "Etat": "",
    "Type": "",
    "internet": "www.archiverlepresent.org",
    "date \nde debut": "",
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "Barry Truax",
    "Nom": "",
    "Institution": "Simon Fraser U",
    "Ville": "Vancouver",
    "Persons": "",
    "Etat": "",
    "Type": "individual digital archive",
    "internet": "http://www.sfu.ca/sonic-studio/WSPDatabase/AnalysisDVD/index2.html",
    "date \nde debut": "",
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "EAMM",
    "Nom": "ElectroAcoustic Music Mine",
    "Institution": "New York U",
    "Ville": "New York",
    "Persons": "Tae Hong Park",
    "Etat": "",
    "Type": "",
    "internet": "",
    "date \nde debut": "",
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "EMS ARCHIVE",
    "Nom": "AN EVALUATION OF THE UNIVERSITY OF ILLINOIS EMS ARCHIVE",
    "Institution": "Experimental Music Studio",
    "Ville": "Illinois",
    "Persons": "David M. Luftig",
    "Etat": "",
    "Type": "projet",
    "internet": "https://www.seamusonline.org/an-evaluation-of-the-university-of-illinois-ems-archive/",
    "date \nde debut": "",
    "date\nde fin": "",
    "Comments": "https://www.ideals.illinois.edu/handle/2142/100315"
  },
  {
    "Name": "GMEB",
    "Nom": "Institut de Musique electroacoustique de Bourges",
    "Institution": "",
    "Ville": "Bourges",
    "Persons": "",
    "Etat": "",
    "Type": "",
    "internet": "",
    "date \nde debut": "",
    "date\nde fin": "",
    "Comments": "Fonds IMEB à la BNF"
  },
  {
    "Name": "Jean-Claude Risset",
    "Nom": "",
    "Institution": "",
    "Ville": "Paris",
    "Persons": "",
    "Etat": "",
    "Type": "individual digital archive",
    "internet": "",
    "date \nde debut": "",
    "date\nde fin": "",
    "Comments": ""
  },
  {
    "Name": "Saariaho",
    "Nom": "",
    "Institution": "",
    "Ville": "Paris",
    "Persons": "Jean-Baptiste Barriere",
    "Etat": "running",
    "Type": "individual digital archive",
    "internet": "http://www.petals.org/Saariaho/Electronics.html",
    "date \nde debut": "",
    "date\nde fin": "",
    "Comments": "35 works (dont IRCAM)"
  }
];

		var mymap = L.map('mapid').setView([51.505, -0.09], 2);

		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
			id: 'mapbox.streets'
		}).addTo(mymap);

		for (project in projects)
			put_marker(projects[project],L);

function put_marker(p,L){
	const Http = new XMLHttpRequest();
	const url1='https://nominatim.openstreetmap.org/search/'+ p.Ville +'?format=json&addressdetails=1&limit=1&polygon=0';
		console.log("IN"+p.Ville)
	Http.open("GET", url1,false);
	Http.send();
		result = Http.responseText;
		a=JSON.parse(result)
		//console.log(p.Ville)
L.marker([parseFloat(a[0].lat)+ (0.1 * Math.random() - 0.05), parseFloat(a[0].lon)+ (0.1 * Math.random() - 0.05)]).addTo(mymap)
.bindPopup("<b>"+p.Name + "</b><br/>" + p.Ville);
}

	function put_marker_asynchrone(p,L){
	const Http = new XMLHttpRequest();
	const url1='https://nominatim.openstreetmap.org/search/'+ p.Ville +'?format=json&addressdetails=1&limit=1&polygon=0';
		console.log("IN"+p.Ville)
	Http.open("GET", url1,false);
	Http.send();
	Http.onreadystatechange=(e)=>{
		result = Http.response;
		a=JSON.parse(result)
		//console.log(p.Ville)
L.marker([parseFloat(a[0].lat)+Math.random(), parseFloat(a[0].lon)+Math.random()],riseOnHover=true,title="Centre",opacity=0.1,draggable=true).addTo(mymap)
.bindPopup("<b>"+p.Name + "</b><br/>" + p.Ville);
	}

}

function get_projects(){
	const Http = new XMLHttpRequest();
	const url1='https://docs.google.com/spreadsheets/d/1o2Y6k_3atUU_UVGl2YT0WMlrCd7jICWQihsJlW75F3o/edit#gid=928640262';

	Http.open("GET", url1,true);
	Http.send();
	Http.onreadystatechange=(e)=>{
		result = Http.response;
	}
}

var popup = L.popup();

function onMapClick_popup(e) {
	popup
	.setLatLng(e.latlng)
	.setContent("You clicked the map at " + e.latlng.toString())
	.openOn(mymap);
}

function onMapClick(e) {
}

mymap.on('click', onMapClick);

</script>

</body>
</html>

